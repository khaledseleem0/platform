import React, { useState,useEffect } from 'react'
import { Img, Imgpost,PostFeed,Header,Bottom ,Time} from './feedStyle'
import {Name} from "./../left/leftStyle"
import {Api} from './../getter';
 function Post(props) {
    let content = props.postContent;
    const time = ()=>{
        var Timenow = new Date();
var weekday = new Array(7);
weekday[0] = "Sunday";
weekday[1] = "Monday";
weekday[2] = "Tuesday";
weekday[3] = "Wednesday";
weekday[4] = "Thursday";
weekday[5] = "Friday";
weekday[6] = "Saturday";
var day = weekday[Timenow.getDay()];
let dayOfMonth = Timenow.getDate();
let years = Timenow.getFullYear();
let hours = Timenow.getHours();
let minutes = Timenow.getMinutes();
let seconds = Timenow.getSeconds();
        return  <Time>
        <div>{`${dayOfMonth} ${day} ${years}`}</div>
        <div>{`${hours} : ${minutes} : ${seconds}`}</div>
        </Time>
    }
    const [profile ,SetProfile] = useState([]);
    const [load ,SetLoad] = useState({"loading":false});

    useEffect(()=>{
        Api().then((data)=>{
            SetProfile(data.profile);
            SetLoad({"loading":true})
        })        
    },[])
    const  Loving  =(e)=>{
        let heart = e.target;
        heart.classList.toggle("activeheart");
            
    }
    return (
        <>
        {load == false ? "loading": 
        <PostFeed>
            <Header>
            <Img src={profile.image}/>
            <Name>{profile.name}</Name>
            {time()}
            </Header>
            <p> {content.content} </p>
                 {content.src === null ?  "" : <Imgpost src={content.src} />}
            <Bottom>
            <span> 
                  <svg onClick={(e)=>{Loving(e)}} className="heart" xmlns="http://www.w3.org/2000/svg" width="15" fill="lightgray"  height="15" viewBox="0 0 24 24"><path d="M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"/></svg>
           </span>
            <span> 
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
            width="15" height="15"
            viewBox="0 0 172 172"
            style={{fill:"#000000"}}><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style={{mixBlendMode: "normal"}}><path d="M0,172v-172h172v172z" fill="none"></path><g id="Layer_1"><path d="M153.1875,146.46875l-26.875,-26.875h-94.0625c-7.39062,0 -13.4375,-6.04687 -13.4375,-13.4375v-87.34375c0,-7.39062 6.04688,-13.4375 13.4375,-13.4375h107.5c7.39063,0 13.4375,6.04688 13.4375,13.4375z" fill="#ffffff"></path><path d="M153.1875,150.5c-1.075,0 -2.01562,-0.40312 -2.82188,-1.20937l-25.66562,-25.66563h-92.45c-9.675,0 -17.46875,-7.79375 -17.46875,-17.46875v-87.34375c0,-9.675 7.79375,-17.46875 17.46875,-17.46875h107.5c9.675,0 17.46875,7.79375 17.46875,17.46875v127.65625c0,1.6125 -0.94063,3.09062 -2.55312,3.7625c-0.40313,0.13438 -0.94063,0.26875 -1.47813,0.26875zM32.25,9.40625c-5.24062,0 -9.40625,4.16563 -9.40625,9.40625v87.34375c0,5.24063 4.16563,9.40625 9.40625,9.40625h94.0625c1.075,0 2.15,0.40313 2.82188,1.20938l20.02187,20.02188v-117.98125c0,-5.24062 -4.16563,-9.40625 -9.40625,-9.40625zM153.1875,170.65625h-100.78125c-2.28438,0 -4.03125,-1.74687 -4.03125,-4.03125c0,-2.28438 1.74687,-4.03125 4.03125,-4.03125h100.78125c2.28438,0 4.03125,1.74687 4.03125,4.03125c0,2.28438 -1.74687,4.03125 -4.03125,4.03125z" fill="#444b54"></path><path d="M118.25,56.4375h-64.5c-2.28438,0 -4.03125,-1.74687 -4.03125,-4.03125c0,-2.28438 1.74687,-4.03125 4.03125,-4.03125h64.5c2.28437,0 4.03125,1.74687 4.03125,4.03125c0,2.28438 -1.74688,4.03125 -4.03125,4.03125zM98.09375,76.59375h-44.34375c-2.28438,0 -4.03125,-1.74688 -4.03125,-4.03125c0,-2.28437 1.74687,-4.03125 4.03125,-4.03125h44.34375c2.28437,0 4.03125,1.74688 4.03125,4.03125c0,2.28437 -1.74688,4.03125 -4.03125,4.03125zM118.25,68.53125c-2.2264,0 -4.03125,1.80485 -4.03125,4.03125c0,2.2264 1.80485,4.03125 4.03125,4.03125c2.2264,0 4.03125,-1.80485 4.03125,-4.03125c0,-2.2264 -1.80485,-4.03125 -4.03125,-4.03125z" fill="#71c2ff"></path><path d="M32.25,162.59375c-2.2264,0 -4.03125,1.80485 -4.03125,4.03125c0,2.2264 1.80485,4.03125 4.03125,4.03125c2.2264,0 4.03125,-1.80485 4.03125,-4.03125c0,-2.2264 -1.80485,-4.03125 -4.03125,-4.03125z" fill="#444b54"></path></g></g></svg>
             </span>
             <span>
             <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"width="15" height="15" viewBox="0 0 172 172" style={{fill:"#000000"}}>
            <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style={{mixBlendMode: "normal"}}><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M90.3,161.25c-41.4907,0 -75.25,-33.7593 -75.25,-75.25c0,-41.4907 33.7593,-75.25 75.25,-75.25c41.4907,0 75.25,33.7593 75.25,75.25c0,41.4907 -33.7593,75.25 -75.25,75.25zM90.3,32.25c-29.6399,0 -53.75,24.1101 -53.75,53.75c0,29.6399 24.1101,53.75 53.75,53.75c29.6399,0 53.75,-24.1101 53.75,-53.75c0,-29.6399 -24.1101,-53.75 -53.75,-53.75z" fill="#e74c3c"></path><path d="M90.3,12.9c40.3082,0 73.1,32.7918 73.1,73.1c0,40.3082 -32.7918,73.1 -73.1,73.1c-40.3082,0 -73.1,-32.7918 -73.1,-73.1c0,-40.3082 32.7918,-73.1 73.1,-73.1M90.3,141.9c30.8224,0 55.9,-25.0776 55.9,-55.9c0,-30.8224 -25.0776,-55.9 -55.9,-55.9c-30.8224,0 -55.9,25.0776 -55.9,55.9c0,30.8224 25.0776,55.9 55.9,55.9M90.3,8.6c-42.7463,0 -77.4,34.6537 -77.4,77.4c0,42.7463 34.6537,77.4 77.4,77.4c42.7463,0 77.4,-34.6537 77.4,-77.4c0,-42.7463 -34.6537,-77.4 -77.4,-77.4zM90.3,137.6c-28.4961,0 -51.6,-23.1039 -51.6,-51.6c0,-28.4961 23.1039,-51.6 51.6,-51.6c28.4961,0 51.6,23.1039 51.6,51.6c0,28.4961 -23.1039,51.6 -51.6,51.6z" fill="#333333"></path><path d="M124.7,10.75c-13.06153,0 -23.65,10.58847 -23.65,23.65c0,13.06153 10.58847,23.65 23.65,23.65c13.06153,0 23.65,-10.58847 23.65,-23.65c0,-13.06153 -10.58847,-23.65 -23.65,-23.65z" fill="#ffffff"></path><path d="M124.7,12.9c11.8551,0 21.5,9.6449 21.5,21.5c0,11.8551 -9.6449,21.5 -21.5,21.5c-11.8551,0 -21.5,-9.6449 -21.5,-21.5c0,-11.8551 9.6449,-21.5 21.5,-21.5M124.7,8.6c-14.2502,0 -25.8,11.5498 -25.8,25.8c0,14.2502 11.5498,25.8 25.8,25.8c14.2502,0 25.8,-11.5498 25.8,-25.8c0,-14.2502 -11.5498,-25.8 -25.8,-25.8z" fill="#333333"></path><g><path d="M129,113.95c-13.06153,0 -23.65,10.58847 -23.65,23.65c0,13.06153 10.58847,23.65 23.65,23.65c13.06153,0 23.65,-10.58847 23.65,-23.65c0,-13.06153 -10.58847,-23.65 -23.65,-23.65z" fill="#ffffff"></path><path d="M129,116.1c11.8551,0 21.5,9.6449 21.5,21.5c0,11.8551 -9.6449,21.5 -21.5,21.5c-11.8551,0 -21.5,-9.6449 -21.5,-21.5c0,-11.8551 9.6449,-21.5 21.5,-21.5M129,111.8c-14.2502,0 -25.8,11.5498 -25.8,25.8c0,14.2502 11.5498,25.8 25.8,25.8c14.2502,0 25.8,-11.5498 25.8,-25.8c0,-14.2502 -11.5498,-25.8 -25.8,-25.8z" fill="#333333"></path></g><g><path d="M30.1,62.35c-13.06153,0 -23.65,10.58847 -23.65,23.65c0,13.06153 10.58847,23.65 23.65,23.65c13.06153,0 23.65,-10.58847 23.65,-23.65c0,-13.06153 -10.58847,-23.65 -23.65,-23.65z" fill="#ffffff"></path><path d="M30.1,64.5c11.8551,0 21.5,9.6449 21.5,21.5c0,11.8551 -9.6449,21.5 -21.5,21.5c-11.8551,0 -21.5,-9.6449 -21.5,-21.5c0,-11.8551 9.6449,-21.5 21.5,-21.5M30.1,60.2c-14.2502,0 -25.8,11.5498 -25.8,25.8c0,14.2502 11.5498,25.8 25.8,25.8c14.2502,0 25.8,-11.5498 25.8,-25.8c0,-14.2502 -11.5498,-25.8 -25.8,-25.8z" fill="#333333"></path></g></g></g></svg>     
            </span>
           </Bottom>
        </PostFeed>
    }
    </>
    )
}


export default Post